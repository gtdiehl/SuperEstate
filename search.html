<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <title>SuperEstate Search</title>
        <link rel="stylesheet" type="text/css" href="styles/styles.css"></link>
        <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

        <script src="scripts/search.js"></script>
        <script src="scripts/utils.js"></script>
        <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
        <script>
            const homes = [
                {
                "ref": 1,
                "Street": "692 Gale Dr",
                "City": "San Jose",
                "ZIP": 95125,
                "Bedrooms": 3,
                "Bathooms": 2,
                "Price": 900000,
                "Type": "Condo"
                },
                {
                "ref": 2,
                "Street": "605 El Patio Dr",
                "City": "San Jose",
                "ZIP": 95125,
                "Bedrooms": 2,
                "Bathooms": 1,
                "Price": 800000,
                "Type": "Manufactured"
                },
                {
                "ref": 3,
                "Street": "999 Linda Dr",
                "City": "San Jose",
                "ZIP": 95125,
                "Bedrooms": 5,
                "Bathooms": 3,
                "Price": 1250000,
                "Type": "House"
                },
                {
                "ref": 4,
                "Street": "704 Duncanville Ct",
                "City": "San Jose",
                "ZIP": 95125,
                "Bedrooms": 3,
                "Bathooms": 3,
                "Price": 775000,
                "Type": "House"
                },
                {
                "ref": 5,
                "Street": "184 Lu Anne Dr",
                "City": "San Jose",
                "ZIP": 95125,
                "Bedrooms": 1,
                "Bathooms": 1,
                "Price": 550000,
                "Type": "Condo"
                },
                {
                "ref": 6,
                "Street": "N 1st St",
                "City": "San Jose",
                "ZIP": 95125,
                "Bedrooms": 2,
                "Bathooms": 1,
                "Price": 650000,
                "Type": "Manufactured"
                },
                {
                "ref": 7,
                "Street": "775 Almarida",
                "City": "San Jose",
                "ZIP": 95125,
                "Bedrooms": 2,
                "Bathooms": 1,
                "Price": 625000,
                "Type": "Condo"
                },
                {
                "ref": 8,
                "Street": "1067 Erin Way",
                "City": "San Jose",
                "ZIP": 95125,
                "Bedrooms": 3,
                "Bathooms": 1.5,
                "Price": 750000,
                "Type": "TownHouse"
                },
                {
                "ref": 9,
                "Street": "134 Salice Way",
                "City": "San Jose",
                "ZIP": 95125,
                "Bedrooms": 6,
                "Bathooms": 7,
                "Price": 1500000,
                "Type": "House"
                },
                {
                "ref": 10,
                "Street": "91 N 1st St",
                "City": "San Jose",
                "ZIP": 95125,
                "Bedrooms": 1,
                "Bathooms": 1,
                "Price": 925000,
                "Type": "Condo"
                }
            ]
            
            function domLoaded() {
                let form  = document.getElementById('searchForm');
                form.addEventListener('submit', (event) => {
                    event.preventDefault();
                    searchHomes();
                });
            }

            $( function() {
                $( "#slider-range" ).slider({
                    range: true,
                    min: 10000,
                    max: 2000000,
                    values: [ 20000, 2000000 ],
                    slide: function( event, ui ) {
                    $( "#amount" ).val( "$" + ui.values[ 0 ] + " - $" + ui.values[ 1 ] );
                    }
                });
                var minAmount = numberWithCommas($( "#slider-range" ).slider( "values", 0 ));
                var maxAmount = numberWithCommas($( "#slider-range" ).slider( "values", 1 ));
                $( "#amount" ).val( "$" + minAmount + " - $" + maxAmount );
            } );
        </script>

        <style>
            div.searchContent {
                width: 90%;
                height: 20%;
                position: fixed;
                top: 100px;
                padding: 10px 10px 0px;
                margin-left:3%;
                background-image: url("images/bridgebackground.jpg");
                background-size: 100% 100%;
            }
            .ui-slider-horizontal {
                height: 8px;
                width: 50%;
                margin: 10px;
            }
            .ui-slider .ui-slider-handle {
                width: 5px;
            }
            input[type=text] {
                width: 150px;
            }
            .column {
                float: left;
                padding: 10px;
            }
            .left {
                width: 20%;
            }
            .middle1 {
                width: 15%;
                text-align: center;
            }
            .middle2 {
                width: 15%;
            }
            .middle3 {
                width: 30%;
            }
            .right {
                float: left;
                width: 8%;
                padding: 20px;
            }
            input[type=radio] {
                display: none;
                margin: 10px;
            }
            input[type=radio] + label {
                display:inline-block;
                background-color: #e7e7e7;
                border: 1px;
                border-style: solid;
            }
            input[type=radio]:checked + label { 
                background-image: none;
                background-color:#8282ba;
            }
            .search-details {
                position: absolute;
                top: 250px;
                left: 0;
                bottom: 0;
                right: 0;
                width: 100%;
                height: 100%;
            }
        </style>
    </head>
    <body onload="domLoaded();">
		<div class="nav">
			<ul>
				<li><a href="index.html" class="homepage">
					<img src = "images/logo.jpg" alt="SuperEstate logo" width="140" height="75">
				</a></li>
				<li><a href="search.html">Search a house</a></li>
				<li><a href="#sell">Sell a house</a></li>
				<li><a href="#about">Agents</a></li>
				<li><a href="#about">Contact us</a></li>
				<li><a href="#account" class="special">My property</a></li>
			</ul>
		</div>
		<div class="searchContent">
                <div class="column left">
                    <p>
                        <label for="amount">Price range:</label>
                        <input type="text" id="amount" readonly style="border:0; color:#f6931f; font-weight:bold;">
                    </p>
                    
                    <div id="slider-range"></div>
                </div>
                <div class="column middle1">
                    <p>Bedrooms</p>
                    <input type="radio" id="any_bedroom" name="bedrooms" value="0" checked>
                    <label for="any_bedroom">Any</label>
                    <input type="radio" id="one_bedroom" name="bedrooms" value="1">
                    <label for="one_bedroom">1+</label>
                    <input type="radio" id="two_bedroom" name="bedrooms" value="2">
                    <label for="two_bedroom">2+</label>
                    <input type="radio" id="three_bedroom" name="bedrooms" value="3">
                    <label for="three_bedroom">3+</label>
                    <input type="radio" id="four_bedroom" name="bedrooms" value="4">
                    <label for="four_bedroom">4+</label>
                    <input type="radio" id="five_bedroom" name="bedrooms" value="5">
                    <label for="five_bedroom">5+</label>
                </div>
                <div class="column middle2">
                    <p>Bathrooms</p>
                    <input type="radio" id="any_bathroom" name="bathrooms" value="0"  checked>
                    <label for="any_bathroom">Any</label>
                    <input type="radio" id="one_bathroom" name="bathrooms" value="1">
                    <label for="one_bathroom">1+</label>
                    <input type="radio" id="onehalf_bathroom" name="bathrooms" value="1.5">
                    <label for="onehalf_bathroom">1.5+</label>
                    <input type="radio" id="two_bathroom" name="bathrooms" value="2">
                    <label for="two_bathroom">2+</label>
                    <input type="radio" id="three_bathroom" name="bathrooms" value="3">
                    <label for="three_bathroom">3+</label>
                    <input type="radio" id="four_bathroom" name="bathrooms" value="4">
                    <label for="four_bathroom">4+</label>
                </div>
                <div class="column middle3">
                    <p>Building Type</p>
                    <input type="checkbox" id="house" name="buildings" value="House">
                    <label for="house">House</label>
                    <input type="checkbox" id="manufactured" name="buildings" value="Manufactured">
                    <label for="manufactured">Manufactured</label>
                    <input type="checkbox" id="condo" name="buildings" value="Condo">
                    <label for="condo">Condo</label>
                    <input type="checkbox" id="townhouse" name="buildings" value="Townhouse">
                    <label for="townhouse">Townhouse</label>
                </div>
                <div class="column right">
                    <button type="submit">Search</button>
                </div>
        </div>
        <div class="search-container">
            <iframe class="search-details" id="searchFrame"></iframe>
        </div>
    </body>
</html>
