<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <title>superestate.com</title>
		<link rel="stylesheet" type="text/css" href="styles/styles.css"></link>
		<script src="scripts/getURLParam.js"></script>
		<script src="scripts/navLoaded.js"></script>
		<script src="scripts/display.js"></script>
		<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
		
	</head>
	<style>
		.slides-container {
			position: absolute;
			margin: auto;
		}
		.prev, .next {
			cursor: pointer;
			position: absolute;
			top: 50%;
			width: auto;
			padding: 16px;
			margin-top: -22px;
			color: white;
			font-weight: bold;
			font-size: 18px;
			transition: 0.6s ease;
			border-radius: 0 3px 3px 0;
			user-select: none;
		}
		.prev {
			left: 0;
		}
		.next {
			border-radius: 3px 0 0 3px;
			right: calc(50% + 2px);
		}
		.prev:hover, .next:hover {
			background-color: rgba(0,0,0,0.8);
		}
	</style>
    <body onload="navLoaded();">
		<div class="content">
			<div class="slides-container">
				<div class="photo-container">
					<script>document.writeln('<img src="images/house'+ getURLParam('id') +'.jpg" class="property-photo" alt="Property for Sale">');</script>
				</div>
				<script>
					var photoCount;
					var videoCount;
					$(document).ready(function() {
						$.get('getPropertyPhotos.php', {id:getURLParam('id')}, function(data) {
							console.log("D: " + data);
							var dataArray = data.split(",");
							console.log("DA: " + dataArray);
							photoCount = dataArray[0];
							videoCount = dataArray[1];
							console.log("PC: " + photoCount);

							s = document.getElementsByClassName("slides-container")[0];
							console.log("S: " + s);

							console.log("PC1: " + photoCount);
							for(var i=1;i<parseInt(photoCount)+1;++i)
							{
								var divNode = document.createElement("div");
								divNode.setAttribute("class", "photo-container");
								var imgNode = document.createElement("img");
								imgNode.setAttribute("src", ("images/house" + getURLParam('id') + "_" + i + ".jpg"));
								imgNode.setAttribute("alt", "Property for Sale");
								imgNode.setAttribute("class", "property-photo");

								divNode.appendChild(imgNode);
								s.appendChild(divNode);

								console.log("PH2: " + photoCount);
								/**
								s.innerHTML = "<div class='photo-container'>";
								s.innerHTML = "<img src='images/house" + getURLParam('id') + "_" + i + ".jpg' class='property-photo' alt='Property for Sale'>";
								s.innerHTML = "</div>";
								*/
							}
						});
					});
				</script>
				<!--
				<div class="photo-container">
					<img src="images/house2.jpg" class="property-photo" alt="Property for Sale">
				</div>
				<div class="photo-container">
					<img src="images/house3.jpg" class="property-photo" alt="Property for Sale">
				</div>
				-->
				<a class="prev" onclick="plusSlides(-1)">&#10094;</a>
				<a class="next" onclick="plusSlides(+1)">&#10095;</a>
			</div>
			<div class="propertyDetails">
				<script>
					document.writeln('<iframe src="getDetails.php?id='+ getURLParam('id') +' width="100%" height="100%"></iframe>');
				</script>
			</div>
		</div>
    </body>
</html>
